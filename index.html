<!DOCTYPE html>

<!--Developed by Madindex / Copyright 2021-->

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0'>
    <meta http-equiv="X-UA-Compatible" content= "ie=edge">
    <title>Madindex</title>
    <link rel="stylesheet" href="style.css">
</head>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/ScrollMagic.min.js" integrity="sha512-8E3KZoPoZCD+1dgfqhPbejQBnQfBXe8FuwL4z/c8sTrgeDMFEnoyTlH3obB4/fV+6Sg0a0XF+L/6xS4Xx1fUEg==" crossorigin="anonymous"></script>

<script>
   window.addEventListener('scroll', () => {
  document.body.style.setProperty('--scroll',window.pageYOffset / (document.body.offsetHeight - window.innerHeight));
}, false); 
    
    window.onbeforeunload = function () {
  window.scrollTo(0, 0);
}
</script>
    
<script>
$('body').append('<div style="" id="loadingDiv"><xx style="z-index:99" data-text=" "> </xx></div>');
$(window).on('load', function(){
  setTimeout(removeLoader, 1000); //wait for page load PLUS two seconds.
});
function removeLoader(){
    $( "#loadingDiv" ).fadeOut(1500, function() {
        $('html, body').css({overflow: 'hidden'});
      // fadeOut complete. Remove the loading div
      $('html, body').css({overflow: 'visible'});
 
      $( "#loadingDiv" ).remove(); //makes page more lightweight 
  });  
}
</script>
    
<script>
    
$(window).on("load",function() {
  $(window).scroll(function() {
    var windowBottom = $(this).scrollTop() + $(this).innerHeight();
    $(".fade").each(function() {
      /* Check the location of each desired element */
      var objectBottom = $(this).offset().top + $(this).outerHeight();
      
      /* If the element is completely within bounds of the window, fade it in */
      if (objectBottom < windowBottom) { //object comes into view (scrolling down)
        if ($(this).css("opacity")==0) {$(this).fadeTo(500,1);}
      } else { //object goes out of view (scrolling up)
        if ($(this).css("opacity")==1) {$(this).fadeTo(500,0);}
      }
    });
  }).scroll(); //invoke scroll-handler on page-load
});
    
</script>

<style>
#test p {
    margin-top: 25px;
    font-size: 21px;
    text-align: center;
    animation: fadein 4s;
    -moz-animation: fadein 4s; /* Firefox */
    -webkit-animation: fadein 4s; /* Safari and Chrome */
    -o-animation: fadein 4s; /* Opera */
}
@keyframes fadein {
    from {
        color:#000;
    }
    to {
        color:#fff;
    }
}
@-moz-keyframes fadein { /* Firefox */
    from {
        color:#000;
    }
    to {
        color:#fff;
    }
}
@-webkit-keyframes fadein { /* Safari and Chrome */
    from {
        color:#000;
    }
    to {
        color:#fff;
    }
}
@-o-keyframes fadein { /* Opera */
    from {
        color:#000;
    }
    to {
        color:#fff;
    }
}
</style>

<body>    

<hhh>

</hhh>
    
<div style="position:fixed;right:0;z-index:100;top:0;text-align:right; margin-right:50px;">
<p class="hey" id="test">
    <div class="corridor">
    <h1 style="margin:0;overflow:hidden;line-height:1;font-weight:normal;">
    <span style="font-family:newyork">MADINDEX<optima>â„¢</optima></span>
    </h1>
    </div>
</div>
   

<div style="display:block;z-index:9;top:0;bottom:0;left:0;right:0;position:fixed;pointer-events:none;">
<div class="cont" style="box-shadow: 1px -1px 1px #fff;">
</div>
</div>
    
<div style="display:block;z-index:9;top:0;bottom:0;left:0;right:0;position:fixed;pointer-events:none;">
<div class="cont2" style="box-shadow: -1px 1px 1px #fff;">
</div>
</div>

   
<!--
<canvas style="padding-left:20px;top:20px;z-index:1;position:fixed;width:120px;" id="hero-lightpass"></canvas>
-->

    
  <div class="css-selector" style="height:100%;width:100%;"></div>
    
    
<style>
    .nb {
        opacity: 0;
        animation: fp 2s linear;
        animation-fill-mode: forwards; 
        animation-delay: 4s;
    }
    @keyframes fp {
        0% {
            opacity: 0;
        }
        100% {
            opacity: 100;
        }
    }
    
</style>


    <div class="nb" style="position:fixed;z-index:1;top:50%;left:50%;transform:translate(-50%,-50%);">
    <p style="text-align:center;margin:0;display:block;font-size:6em;font-family:newyork;filter: contrast(80%);mix-blend-mode:difference;">Booked</p>
    
    <p style="text-align:center;display:block;margin:0;font-size:2em;mix-blend-mode:difference;filter: contrast(50%);">Until 6.21.21</p>
        
    </div>

   <!--

<div class="contain">
<div class="dunes">  
 
<img src="/ray.png" style="width:100%;left:0;right:0;filter:brightness(.6);display:block;">
    
</div>
</div>

    

<div class="marquee" style="position:fixed;">
  <div>
    <span>Copyright &copy; Madindex 2021 | Web Design | 3D Graphics |</span>
    <span>Copyright &copy; Madindex 2021 | Web Design | 3D Graphics |</span>
  </div>
</div>





<button style="z-index:10000;position:fixed;top:0;width:100%;height:200px;opacity:0;" onclick="togglediv('item')">Toggle div</button>  




<div id="test">
<div class="content">
    <section class="distort">
        
<div style="z-index:-1;margin-top:-270px;padding-left:10%;" id="col1" class="parallax" data-parallax-rate="1.5">
    
<div></div>
    <p style="text-align:left;margin:0;display:block;font-size:6em;font-family:newyork;filter: contrast(80%);mix-blend-mode:difference;">Booked</p>
    
    <p style="padding-left:30%;text-align:left;display:block;margin:0;font-size:2em;mix-blend-mode:difference;filter: contrast(50%);">Until 4/22/21</p>
    
</div>
        
        <div class="sector"></div>
     </section>
    </div>
</div>
-->
    
<a href="http://instagram.com/madindex/">
    <img src='ig.png' style="width:30px; padding: 50px;bottom:0;right:0;position:fixed;">
</a>
    

<script>
    const content = document.querySelector("section");
    let currentPos = window.pageYOffset;
    
    const callDistort = function() {
        const newPos = window.pageYOffset;
        const diff = newPos - currentPos;
        const speed = diff * 0.35;
        
        content.style.transform = "skewY(" + speed + "deg)";
        currentPos = newPos;
        requestAnimationFrame(callDistort);
    }
    callDistort();
</script>
    

<script>
$(document).ready(function () {
  $(".parallax").each(function () {
    var $this = $(this);
		$this.data("top", $this.offset().top);
		$this.data("rate", $this.attr("data-parallax-rate"));
	});
	$(window).scroll(function () {
		$(".parallax").each(function () {
			var scrollTop = $(window).scrollTop();
			var rate = $(this).data("rate");
			var thisTop  = scrollTop - scrollTop * rate
			$(this).css("top", $(this).data("top") + thisTop);
		});
	});
});    
</script>
    
<style>
    
    .bg {
  position: fixed;
  z-index: 999999;
  top: -50%;
  left: -50%;
  right: -50%;
  bottom: -50%;
  width: 200%;
  height: 200vh;
  background: transparent url('http://assets.iceable.com/img/noise-transparent.png') repeat 0 0;
  background-repeat: repeat;
  animation: bg-animation .2s infinite;
  opacity: 100%;
  visibility: visible;
  pointer-events: none;
}

@keyframes bg-animation {
    0% { transform: translate(0,0) }
    10% { transform: translate(-5%,-5%) }
    20% { transform: translate(-10%,5%) }
    30% { transform: translate(5%,-10%) }
    40% { transform: translate(-5%,15%) }
    50% { transform: translate(-10%,5%) }
    60% { transform: translate(15%,0) }
    70% { transform: translate(0,10%) }
    80% { transform: translate(-15%,0) }
    90% { transform: translate(10%,5%) }
    100% { transform: translate(5%,0) }
}
    
</style>

<div class="bg">  
</div>
    
<script>
    const html = document.documentElement;
const canvas = document.getElementById("hero-lightpass");
const context = canvas.getContext("2d");

const frameCount = 61;
const currentFrame = index => (
  `seq/m_${index.toString().padStart(5, '0')}.jpg`
)

const preloadImages = () => {
  for (let i = 1; i < frameCount; i++) {
    const img = new Image();
    img.src = currentFrame(i);
  }
};

const img = new Image()
img.src = currentFrame(1);
canvas.width=540;
canvas.height=350;
img.onload=function(){
  context.drawImage(img, 0, 0);
}

const updateImage = index => {
  img.src = currentFrame(index);
  context.drawImage(img, 0, 0);
}

window.addEventListener('scroll', () => {  
  const scrollTop = html.scrollTop;
  const maxScrollTop = html.scrollHeight - window.innerHeight;
  const scrollFraction = scrollTop / maxScrollTop;
  const frameIndex = Math.min(
    frameCount - 1,
    Math.ceil(scrollFraction * frameCount)
  );
  
  requestAnimationFrame(() => updateImage(frameIndex + 1))
});

preloadImages();
</script>
    
</body> 
</html>