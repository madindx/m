<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content= "ie=edge">
    <title>MADINDEX</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body> 
    
<script src="https://threejs.org/build/three.min.js"></script>
<script src="https://threejs.org/examples/js/loaders/GLTFLoader.js"></script>
<script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/ScrollMagic.min.js" integrity="sha512-8E3KZoPoZCD+1dgfqhPbejQBnQfBXe8FuwL4z/c8sTrgeDMFEnoyTlH3obB4/fV+6Sg0a0XF+L/6xS4Xx1fUEg==" crossorigin="anonymous"></script>

<script>
$('body').append('<div style="" id="loadingDiv"><div class= "post"><img src= "loady.gif" width="200" height="200"></div></div></div>');
$(window).on('load', function(){
  setTimeout(removeLoader, 2000); //wait for page load PLUS two seconds.
});
function removeLoader(){

    $( "#loadingDiv" ).fadeOut(500, function() {
        $('html, body').css({overflow: 'hidden'});
      // fadeOut complete. Remove the loading div
      $('html, body').css({overflow: 'visible'});
      $( "#loadingDiv" ).remove(); //makes page more lightweight 
  });  
}
</script>
    
<div class="header">
    <p>hey</p>
</div>

<canvas style="position:fixed;border:none;max-width:10%;max-height:10%;z-index:3;padding-top:1%;padding-left:1%;", id="hero-lightpass"></canvas>

<div id="div1"></div>
    
<script>

var scene = new THREE.Scene();
var camera = new THREE.PerspectiveCamera(60, 1, 1, 1000);
camera.position.set(0, 0, 0);
camera.rotation.y = -20.35;
var renderer = new THREE.WebGLRenderer({
  antialias: true
});
renderer.setClearColor(0x808080);
renderer.setPixelRatio( window.devicePixelRatio );
renderer.physicallyCorrectLights = true;
var canva = renderer.domElement
document.body.appendChild(canva);
    
sphereCamera = new THREE.CubeCamera(1,1000,50);
sphereCamera.position.set(0,100,0);
scene.add(sphereCamera);


function updateCamera(ev) {
    let div1 = document.getElementById("div1");
	camera.rotation.y = -1.5 + window.scrollY / 250.0;
}
window.addEventListener("scroll", updateCamera);

    
let urls = [
    'pxx.png', 'nxx.png',
    'pyy.png', 'nyy.png',
    'pzz.png', 'nzz.png'
];

    
let loaded = new THREE.CubeTextureLoader();
    scene.background = loaded.load(urls);

var light = new THREE.HemisphereLight( 0xffffbb, 0x080820, 1 );
scene.add( light );
    
const directionalLight = new THREE.DirectionalLight( 0xffffff, 1 );
scene.add( directionalLight );
directionalLight.position.set(0.5,0,2);

render();
animate();

function render() {
  if (resize(renderer)) {
    camera.aspect = canva.clientWidth / canva.clientHeight;
    camera.updateProjectionMatrix();
  }
  camera.rotation.x += 0.001;
  renderer.render(scene, camera);
  requestAnimationFrame(render);
}
    

function resize(renderer) {
  const canva = renderer.domElement;
  const width = canva.clientWidth;
  const height = canva.clientHeight;
  const needResize = canva.width !== width || canva.height !== height;
  if (needResize) {
    renderer.setSize(width, height, false);
  }
  return needResize;
}
</script>
<script src="madin.js"></script>
<div class="funny">
</div>
</body> 
</html>