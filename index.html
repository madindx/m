<!DOCTYPE html>
<!--Developed by Madindex / Copyright 2021-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0'>
    <meta http-equiv="X-UA-Compatible" content= "ie=edge">
    <title>Madindex</title>
</head>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>  
<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/ScrollMagic.min.js" integrity="sha512-8E3KZoPoZCD+1dgfqhPbejQBnQfBXe8FuwL4z/c8sTrgeDMFEnoyTlH3obB4/fV+6Sg0a0XF+L/6xS4Xx1fUEg==" crossorigin="anonymous"></script>
<script src="turn.js"></script>
    
<script>
var imgs = [];
var imgUrls = ["instagram.png"];
for (i=0;i<imgUrls.length;i++) {
    imgs.push(new Image());
    imgs[i].src = imgUrls[i]
}
</script> <!--preload images-->

<script>
$('body').append('<div id="loader"></div>');
$(window).on('load', function(){
  document.getElementById("anim").style.transform = "translate(-50%,-50%) scale(1)";
  setTimeout(removeLoader, 1000);
});
function removeLoader(){
    //document.getElementById("anim").style.transform = "translate(-50%,-50%) scale(.9)";
    $( "#loader" ).fadeOut(1500, function() {
      $('html, body').css({overflow: 'hidden'});
      $('html, body').css({overflow: 'visible'});
      $( "#loader" ).remove();
  });  
}
</script>

<style>
    html {
  -webkit-touch-callout: none; /* iOS Safari */
    -webkit-user-select: none; /* Safari */
     -khtml-user-select: none; /* Konqueror HTML */
       -moz-user-select: none; /* Old versions of Firefox */
        -ms-user-select: none; /* Internet Explorer/Edge */
            user-select: none; /* Non-prefixed version, currently supported by Chrome, Edge, Opera and Firefox */
    }
    img {
    -webkit-user-drag: none;
    -khtml-user-drag: none;
    -moz-user-drag: none;
    -o-user-drag: none;
    user-drag: none;
    }
    @font-face {
        font-family: 'akira';
        src: url("akira.otf");
    }
    @font-face {
        font-family: 'klik';
        src: url("klik.otf");
    }
    @font-face {
        font-family: 'espera';
        src: url("espera.ttf");
    }
    @font-face {
        font-family: 'rock';
        src: url("rockford.otf");
    }
    @font-face {
        font-family: 'newyork';
        src: url("NewYork.otf");
    }
    @font-face {
        font-family: 'code';
        src: url("code.ttf");
    }
    @font-face {
        font-family: 'pixel';
        src: url("PixelCards.ttf");
    }
    @font-face {
        font-family: '3d';
        src: url("3D.ttf");
    }
    @font-face {
        font-family: 'icons';
        src: url("icon.ttf");
    }
    @font-face {
        font-family: 'dico';
        src: url("dico.ttf");
    }
    body {
        background: #141414;
        color: #fff;
        margin: 20px;
    }
    #loader {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        background: #000;
        z-index: 20;
    }
    .menubuttons {
        position: absolute;
        width: 100%;
        left: 0;
        right: 0;
        height: 7em;
        display: block;
        background: transparent;
        opacity: 0%;
        border: none;
        outline: none;
        z-index: 2;
    }
    .menu {
        opacity: 0%;
        pointer-events: none;
        margin-top: 15%;
    }
    @keyframes menuin {
        0% {
            pointer-events: none;
            opacity: 0%;
            filter: blur(10px);
        }
        100% {
            pointer-events: all;
            opacity: 100%;
            filter: blur(0);
        }
    }
    @keyframes menuout {
        100% {
            pointer-events: none;
            opacity: 0%;
            filter: blur(10px);
        }
        0% {
            pointer-events: all;
            opacity: 100%;
            filter: blur(0);
        }
    }
    .menuon {
        width: 30%;
        height: 15%;
        border: none;
        background: red;
        opacity: 0%;
        margin-top: 500px;
        position: fixed;
        z-index: 90;
        top: -50%;
        left: 50%;
        transform: translate(-50%,-50%);
    }
    .menuoff {
        width: 30%;
        height: 15%;
        border: none;
        background: red;
        opacity: 0%;
        margin-top: 500px;
        position: fixed;
        z-index: 90;
        top: -50%;
        left: 50%;
        transform: translate(-50%,-50%);
    }
    .anim {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%) scale(.1);
        width: 40%;
        background-image: url(seq3/intro_0.png);
        transition: .5s ease;
    }
    .wrapper {
        margin: 5%;
        padding: 5%;
        margin-top: 10%;
    }
    .logo {
        position:fixed;
        width: 15%;
        right:0;
        left:0;
        top:1%;
        z-index:2;
        margin: auto;
    }
    .header {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 13vw;
        background: #000;
        z-index: 2;
        box-shadow: 0 0 8vw rgb(0,0,0,.8);
    }
    .overcast {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 13vw;
        background: linear-gradient(#000, #242429);
        z-index: 5;
        mix-blend-mode: screen;
    }
    .page {
        background: linear-gradient(#2b2b33, #242429, #141414);
        box-shadow: inset 0 0 15vw rgb(0,0,0,.8);
        color: #fff;
    }
    .book {
        position: absolute;
        width: 80%;
        height: 80%;
        margin: auto;
        left: 0;
        right: 0;
        margin-top: 18vw;
        box-shadow: 0 0 5vw 6vw rgb(0,0,0,.8);
        z-index: 1;
    }
    .footer {
        position: absolute;
        width: 100%;
        height: 50vw;
        left: 0;
        right: 0;
        background: linear-gradient(#2b2b33, #242429, #141414);
    }
    .title {
        font-family: 'akira';
        text-align: left;
        padding-left: 8%;
        font-size: 300%;
        margin-bottom: 0;
        color: #d3d3db;
    }
    .heading {
        font-family: 'klik'; /*rock*/
        text-align: left;
        padding-left: 8%;
        font-size: 150%;
        margin: 0;
        color: #c4c4cf;
    }
    .content {
        font-family: 'klik';
        padding: 1%;
        padding-left: 15%;
        font-size: 100%;
        color: #c4c4cf;
        margin: 0;
        transition: .3s ease;
    }
    .content:hover {
        background: linear-gradient(90deg, #2b2b33, #c4c4cf, #2b2b33);
        color: #242429;
    }
    .pagebutton {
        position: absolute;
        width: 5%;
        height: 5%;
        background: transparent;
        z-index: 1;
        bottom: 2%;
        left: 50%;
        transform: translateX(-50%);
        font-family: code;
        font-size: 300%;
        text-shadow: 0 0 10px #000;
        opacity: 50%;
        transition: 1s ease;
    }
    .pagebutton:hover {
        opacity: 100%;
    }
</style>

<style> 
    .bg {
  position: fixed;
  z-index: 999999;
  top: -50%;
  left: -50%;
  right: -50%;
  bottom: -50%;
  width: 200%;
  height: 200vh;
  background: transparent url('http://assets.iceable.com/img/noise-transparent.png') repeat 0 0;
  background-repeat: repeat;
  animation: bg-animation .2s infinite;
  opacity: 100%;
  visibility: visible;
  pointer-events: none;
}
@keyframes bg-animation {
    0% { transform: translate(0,0) }
    10% { transform: translate(-5%,-5%) }
    20% { transform: translate(-10%,5%) }
    30% { transform: translate(5%,-10%) }
    40% { transform: translate(-5%,15%) }
    50% { transform: translate(-10%,5%) }
    60% { transform: translate(15%,0) }
    70% { transform: translate(0,10%) }
    80% { transform: translate(-15%,0) }
    90% { transform: translate(10%,5%) }
    100% { transform: translate(5%,0) }
}
</style>
    
<style>
    @media only screen and (min-width: 600px) {
        .floater {
            width: 130%;
            left: -15%;
        }
    }
    @media only screen and (min-width: 800px) {
        .floater {
            top: 5%;
            width: 80%;
            left: 0%;
        }
    }
    @media only screen and (min-width: 1200px) {
        .floater {
            top: -5%;
        }
    }
    @media only screen and (min-width: 1500px) {
        .floater {
            top: -18%;
        }
    }
</style> <!--media queries-->

<body>
    
    <div id="loader">
        <img class="anim" id="anim"/>
    </div>

    <div class="overcast"></div>
    <div class="header"></div>
    <canvas class="logo" id="hero2"></canvas>
    
    <div class="book" id="book">
    <div id="flipbook">
	<div class="page" style="background:linear-gradient(#2b2b33, #242429, #141414);">
        <p class="title">Madindex™</p>
        <p class="heading">Est 2019/ &nbsp; Multimedia Designer, &nbsp; Creative Dir.</p>
        <p class="content" style="padding-top: 5%; pointer-events: none;">Table of Contents</p>
        
        <p class="content">&emsp; <span style="font-family:code;font-size:120%;">&gt;</span> Title - Madindex™ June 2021 &emsp; <span style="font-family:code;font-size:120%;">&gt;&gt;</span> Current</p>
        <p class="content">&emsp; <span style="font-family:code;font-size:120%;">&gt;&gt;</span> Introspection - about Madindex™</p>
        <p class="content">&emsp; <span style="font-family:code;font-size:120%;">&gt;&gt;&gt;</span> Selected work</p>
        <p class="content">&emsp; <span style="font-family:code;font-size:120%;">&gt;&gt;&gt;&gt;</span> Instagram - contact information</p>
        
        <p class="heading" style="padding-top: 4%;"><span style="font-family:pixel;font-size:120%;">! ! !</span> &emsp; Notice</p>
        
        <p class="content" style="padding-top: 5%; pointer-events: none;">Website is currently under development</p>
        
        <p class="content">&emsp; <span style="font-family:code;font-size:120%;">&gt;</span> Email for updates : &emsp; Contact@madindex.ml</p>
        
    </div>
	<div class="page">
        <p class="title">Selected work</p>
        <p class="heading">Curated from archives</p>
        <p class="content"></p>
    </div>
    <div class="page">
        <p class="title"></p>
        <p class="heading"></p>
        <p class="content"></p>
    </div>
</div>
</div>

    <div id="pagenext" class="pagebutton" style="left: 60%;"> &gt;
    </div>
    <div id= "pageback" class="pagebutton" style="left: 40%;"> &lt;
    </div>
    
    <div id="main">
        
    <button class="menuon"></button>
    <button class="menuoff"></button>          
    
    <div class="layout"></div>
        
    <div class="wrapper">
        
    <!--
    <p class="heading">
        Madindex
    </p>
        
    <p class="content">
    </p>
        
    <p class="heading">
        Madindex
    </p>
    -->
        
        <div style="height:90vh;"></div>
        <div class="footer"></div>
        
    <p class="content">
        <span></span>&emsp;
    </p>
        
    </div>
        
    </div> <!--main-->
    
    <div class="layout"></div>
    
    <div class="menuwrap"></div>
    
<div class="bg">  
</div>
    
</body> 
    
<script type="text/javascript">
	$("#flipbook").turn({
		width: '100%',
		height: '100%',
        display: 'single',
		autoCenter: true
	});
    
    function isMobile() {
        return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    }

    if (!isMobile()) {
    window.addEventListener('resize', function () {
        setTimeout(function() {
        location = location;
            },500);
    });
    }
    
</script>
    
<script>
    var skew = document.getElementById('book');

    window.onmousemove = function (e) {
        var x = e.clientX,
            y = e.clientY;
        
        skew.style.top = (y + 2)*-.02 + 'px';
        skew.style.left = (x + 2)*-.02 + 'px';
    };
</script>
    
<script>
    
const $element = $('.anim');
const imagePath = '/seq3';
const totalFrames = 18;
const animationDuration = 800;
const timePerFrame = animationDuration / totalFrames;
let timeWhenLastUpdate;
let timeFromLastUpdate;
let frameNumber = 0;

function step2(startTime) {

  if (!timeWhenLastUpdate) timeWhenLastUpdate = startTime;
  timeFromLastUpdate = startTime - timeWhenLastUpdate;

  if (timeFromLastUpdate > timePerFrame) {

    $element.attr('src', imagePath + `/load_${frameNumber}.png`);
    timeWhenLastUpdate = startTime;

    if (frameNumber >= totalFrames) {
      frameNumber = 1;
    } else {
      frameNumber = frameNumber + 1;
    }        
  }
  
  requestAnimationFrame(step2);
}

$(document).ready(() => {
  for (var i = 1; i < totalFrames + 1; i++) {
    $('body').append(`<div id="preload-image-${i}" style="background-image: url('${imagePath}/intro_${i}.png');"></div>`);
  }
});

$(window).on('load', () => {
  requestAnimationFrame(step2);
});
    
</script>
    
<script>
    $('#pageback').click(function() {
    $('#flipbook').turn('previous');
    });
     $('#pagenext').click(function() {
    $('#flipbook').turn('next');
    });
    
    $('.menuOn').click(function() {
        document.getElementById("menu").style.animation = "menuin 1s forwards";
        document.getElementById("main").style.display = "none";
    });
    $('.menuOff').click(function() {
        document.getElementById("menu").style.animation = "menuout 1s forwards";
        document.getElementById("main").style.display = "block";
    });
</script>
    
<script>
    const html = document.documentElement;
const canvas = document.getElementById("hero");
const context = canvas.getContext("2d");

const frameCount = 116;
const currentFrame = index => (
  `seq/m_${index.toString().padStart(1, '0')}.png` //5 jpg
)

const preloadImages = () => {
  for (let i = 1; i < frameCount; i++) {
    const img = new Image();
    img.src = currentFrame(i);
  }
};

const img = new Image()
img.src = currentFrame(1);
canvas.width=1080; //540
canvas.height=1080; //350
img.onload=function(){
  context.drawImage(img, 0, 0);
}

const updateImage = index => {
  img.src = currentFrame(index);
  context.drawImage(img, 0, 0);
}

window.addEventListener('scroll', () => {  
  const scrollTop = html.scrollTop;
  const maxScrollTop = html.scrollHeight - window.innerHeight;
  const scrollFraction = scrollTop / maxScrollTop;
  const frameIndex = Math.min(
    frameCount - 1,
    Math.ceil(scrollFraction * frameCount)
  );
  
  requestAnimationFrame(() => updateImage(frameIndex + 1))
});

preloadImages();

const html2 = document.documentElement;
const canvas2 = document.getElementById("hero2");
const context2 = canvas2.getContext("2d");

const frameCount2 = 61;
const currentFrame2 = index => (
  `seq2/m_${index.toString().padStart(5, '0')}.jpg`
)

const preloadImages2 = () => {
  for (let i = 1; i < frameCount2; i++) {
    const img = new Image();
    img.src = currentFrame2(i);
  }
};

const img2 = new Image()
img2.src = currentFrame2(1);
canvas2.width=540;
canvas2.height=350;
img2.onload=function(){
  context2.drawImage(img2, 0, 0);
}

const updateImage2 = index => {
  img2.src = currentFrame2(index);
  context2.drawImage(img2, 0, 0);
}

window.addEventListener('scroll', () => {  
  const scrollTop = html2.scrollTop;
  const maxScrollTop = html.scrollHeight - window.innerHeight;
  const scrollFraction = scrollTop / maxScrollTop;
  const frameIndex = Math.min(
    frameCount2 - 1,
    Math.ceil(scrollFraction * frameCount2)
  );
  
  requestAnimationFrame(() => updateImage2(frameIndex + 1))
});

preloadImages2();
</script>
    
<script>
    console.log("Copyright 2021 Designed by Madindex © All Rights Reserved");
</script>
    
</html>